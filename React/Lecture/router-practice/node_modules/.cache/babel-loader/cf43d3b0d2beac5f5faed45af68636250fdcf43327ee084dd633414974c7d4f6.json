{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useCallback, useReducer } from 'react';\nfunction httpReducer(state, action) {\n  if (action.type === 'SEND') {\n    return {\n      data: null,\n      error: null,\n      status: 'pending'\n    };\n  }\n  if (action.type === 'SUCCESS') {\n    return {\n      data: action.responseData,\n      error: null,\n      status: 'completed'\n    };\n  }\n  if (action.type === 'ERROR') {\n    return {\n      data: null,\n      error: action.errorMessage,\n      status: 'completed'\n    };\n  }\n  return state;\n}\nfunction useHttp(requestFunction) {\n  _s();\n  let startWithPending = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  const [httpState, dispatch] = useReducer(httpReducer, {\n    status: startWithPending ? 'pending' : null,\n    data: null,\n    error: null\n  });\n  const sendRequest = useCallback(async function (requestData) {\n    dispatch({\n      type: 'SEND'\n    });\n    try {\n      const responseData = await requestFunction(requestData);\n      dispatch({\n        type: 'SUCCESS',\n        responseData\n      });\n    } catch (error) {\n      dispatch({\n        type: 'ERROR',\n        errorMessage: error.message || 'Something went wrong!'\n      });\n    }\n  }, [requestFunction]);\n  return {\n    sendRequest,\n    ...httpState\n  };\n}\n_s(useHttp, \"nxg5G/qr0fGytGVs7UqGT62q+FY=\");\nexport default useHttp;","map":{"version":3,"names":["useCallback","useReducer","httpReducer","state","action","type","data","error","status","responseData","errorMessage","useHttp","requestFunction","startWithPending","httpState","dispatch","sendRequest","requestData","message"],"sources":["/Users/gimseungheon/Documents/front_project/React/Lecture/router-practice/src/hooks/use-http.js"],"sourcesContent":["import {useCallback, useReducer} from 'react';\n\nfunction httpReducer(state, action) {\n    if (action.type === 'SEND') {\n        return {\n            data: null,\n            error: null,\n            status: 'pending',\n        };\n    }\n\n    if (action.type === 'SUCCESS') {\n        return {\n            data: action.responseData,\n            error: null,\n            status: 'completed',\n        };\n    }\n\n    if (action.type === 'ERROR') {\n        return {\n            data: null,\n            error: action.errorMessage,\n            status: 'completed',\n        };\n    }\n\n    return state;\n}\n\nfunction useHttp(requestFunction, startWithPending = false) {\n    const [httpState, dispatch] = useReducer(httpReducer, {\n        status: startWithPending ? 'pending' : null,\n        data: null,\n        error: null,\n    });\n\n    const sendRequest = useCallback(\n        async function (requestData) {\n            dispatch({type: 'SEND'});\n            try {\n                const responseData = await requestFunction(requestData);\n                dispatch({type: 'SUCCESS', responseData});\n            } catch (error) {\n                dispatch({\n                    type: 'ERROR',\n                    errorMessage: error.message || 'Something went wrong!',\n                });\n            }\n        },\n        [requestFunction]\n    );\n\n    return {\n        sendRequest,\n        ...httpState,\n    };\n}\n\nexport default useHttp;\n"],"mappings":";AAAA,SAAQA,WAAW,EAAEC,UAAU,QAAO,OAAO;AAE7C,SAASC,WAAW,CAACC,KAAK,EAAEC,MAAM,EAAE;EAChC,IAAIA,MAAM,CAACC,IAAI,KAAK,MAAM,EAAE;IACxB,OAAO;MACHC,IAAI,EAAE,IAAI;MACVC,KAAK,EAAE,IAAI;MACXC,MAAM,EAAE;IACZ,CAAC;EACL;EAEA,IAAIJ,MAAM,CAACC,IAAI,KAAK,SAAS,EAAE;IAC3B,OAAO;MACHC,IAAI,EAAEF,MAAM,CAACK,YAAY;MACzBF,KAAK,EAAE,IAAI;MACXC,MAAM,EAAE;IACZ,CAAC;EACL;EAEA,IAAIJ,MAAM,CAACC,IAAI,KAAK,OAAO,EAAE;IACzB,OAAO;MACHC,IAAI,EAAE,IAAI;MACVC,KAAK,EAAEH,MAAM,CAACM,YAAY;MAC1BF,MAAM,EAAE;IACZ,CAAC;EACL;EAEA,OAAOL,KAAK;AAChB;AAEA,SAASQ,OAAO,CAACC,eAAe,EAA4B;EAAA;EAAA,IAA1BC,gBAAgB,uEAAG,KAAK;EACtD,MAAM,CAACC,SAAS,EAAEC,QAAQ,CAAC,GAAGd,UAAU,CAACC,WAAW,EAAE;IAClDM,MAAM,EAAEK,gBAAgB,GAAG,SAAS,GAAG,IAAI;IAC3CP,IAAI,EAAE,IAAI;IACVC,KAAK,EAAE;EACX,CAAC,CAAC;EAEF,MAAMS,WAAW,GAAGhB,WAAW,CAC3B,gBAAgBiB,WAAW,EAAE;IACzBF,QAAQ,CAAC;MAACV,IAAI,EAAE;IAAM,CAAC,CAAC;IACxB,IAAI;MACA,MAAMI,YAAY,GAAG,MAAMG,eAAe,CAACK,WAAW,CAAC;MACvDF,QAAQ,CAAC;QAACV,IAAI,EAAE,SAAS;QAAEI;MAAY,CAAC,CAAC;IAC7C,CAAC,CAAC,OAAOF,KAAK,EAAE;MACZQ,QAAQ,CAAC;QACLV,IAAI,EAAE,OAAO;QACbK,YAAY,EAAEH,KAAK,CAACW,OAAO,IAAI;MACnC,CAAC,CAAC;IACN;EACJ,CAAC,EACD,CAACN,eAAe,CAAC,CACpB;EAED,OAAO;IACHI,WAAW;IACX,GAAGF;EACP,CAAC;AACL;AAAC,GA3BQH,OAAO;AA6BhB,eAAeA,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}